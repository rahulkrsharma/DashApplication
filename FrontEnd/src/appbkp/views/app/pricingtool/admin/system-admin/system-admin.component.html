<div>
    <ngx-spinner bdColor="rgba(51, 51, 51, 1.4)" size="default" type="ball-spin-clockwise">  
        <p style="color: white">Please Wait. </p>  
      </ngx-spinner>
    <div class="row">
      <div class="col-12 projectRevenue mb-1 truncate">
        <div class="card mb-4" style="height: 60px;">
          <span class="headingDesign">System Management</span>
        </div>
      </div>  
    </div>
    <div class="row">
        <div class="col-12">        
            <div class="card resourceestimates">
              <span class="headingDesign">Rates </span>
              <div class="card-body">
                <div class="row" >
                  <div class="col-12 mb-4 data-table-rows" >
                    <ngx-datatable [rows]="rateManagement" [rowHeight]="50" [columns]="ratesColumns" [columnMode]="ColumnMode.flex" [limit]="itemsPerPage" [headerHeight]="30"
                      [footerHeight]="100" #table [sorts]="[{ prop: 'title', dir: 'asc' }]" (select)="onSelect($event)"
                      [selected]="selected" [selectionType]="SelectionType.checkbox">
                      <ngx-datatable-column  name="Level" [flexGrow]="1">
                        <ng-template  let-column="column" ngx-datatable-header-template>
                            <span >Level</span>
                        </ng-template>
                        <ng-template  let-row="row" let-value="value" let-rowIndex="rowIndex" ngx-datatable-cell-template>
                            <input
                            required
                            style="width: 100%;height: 38px;"
                            autofocus
                            (blur)="updateRate($event, 'Level', rowIndex)"
                            type="text"
                            [(ngModel)]="row.Level"
                            [value]="value"
                          />
                        </ng-template>
                      </ngx-datatable-column>
                      <ngx-datatable-column  name="RackRate" [flexGrow]="1">
                        <ng-template  let-column="column" ngx-datatable-header-template>
                            <span >Rack Rate</span>
                        </ng-template>
                        <ng-template  let-row="row" let-value="value" let-rowIndex="rowIndex" ngx-datatable-cell-template>
                            <input
                            required
                            style="width: 100%;height: 38px;"
                            autofocus
                            (blur)="updateRate($event, 'RackRate', rowIndex)"
                            type="text"
                            [(ngModel)]="row.RackRate"
                            [value]="value"
                          />
                        </ng-template>
                      </ngx-datatable-column>
                      <ngx-datatable-column  name="CostRate" [flexGrow]="1">
                        <ng-template  let-column="column" ngx-datatable-header-template>
                            <span >Cost Rate</span>
                        </ng-template>
                        <ng-template  let-row="row" let-value="value" let-rowIndex="rowIndex" ngx-datatable-cell-template>
                            <input
                            required
                            style="width: 100%;height: 38px;"
                            autofocus
                            (blur)="updateRate($event, 'CostRate', rowIndex)"
                            type="text"
                            [(ngModel)]="row.CostRate"
                            [value]="value"
                          />
                        </ng-template>
                      </ngx-datatable-column>
                      <ngx-datatable-column name="" [flexGrow]="0.4">
                        <ng-template let-row="row" let-value="value" let-rowIndex="rowIndex" ngx-datatable-cell-template> 
                            <i class="material-icons" style="color: red;" (click)="deleteRateRow(rowIndex)">delete</i>
                        </ng-template>
                      </ngx-datatable-column>
                      <ngx-datatable-column name="" [flexGrow]="0.6">
                        <ng-template   let-column="column" ngx-datatable-header-template>
                          <i  class="material-icons" style="color:green;margin-left:-15px" (click)="addRateRow() ">add_circle</i>
                        </ng-template>
                        <ng-template let-row="row" let-value="value" let-rowIndex="rowIndex" ngx-datatable-cell-template> 
                            <i class="material-icons" style="color:green;margin-left:-15px" (click)="addRateRow() ">add_circle</i>
                        </ng-template>
                      </ngx-datatable-column>
                    </ngx-datatable> 
                    <i class="material-icons" style="margin-left:-20px !important;color:green;font-size: xxx-large" (click)="saveRate()">save</i>          
                </div>
            </div>
                    </div>
            </div>
        </div>
    </div>
    <div class="row" style="margin-top: 2%;">
        <div class="col-12">        
            <div class="card resourceestimates">
              <span class="headingDesign">Expense </span>
              <div class="card-body">
                <div class="row" >
                  <div class="col-12 mb-4 data-table-rows" >
                    <ngx-datatable [rows]="expenseTypesList" [rowHeight]="50" [columns]="expenseColumns" [columnMode]="ColumnMode.flex" [limit]="itemsPerPage" [headerHeight]="30"
                      [footerHeight]="100" #table [sorts]="[{ prop: 'title', dir: 'asc' }]" (select)="onSelect($event)"
                      [selected]="selected" [selectionType]="SelectionType.checkbox">
                      <ngx-datatable-column  name="ExpenseType" [flexGrow]="1">
                        <ng-template  let-column="column" ngx-datatable-header-template>
                            <span >Expense Type</span>
                        </ng-template>
                        <ng-template  let-row="row" let-value="value" let-rowIndex="rowIndex" ngx-datatable-cell-template>
                            <input
                            required
                            style="width: 100%;height: 38px;"       
                            type="text"
                            [(ngModel)]="row.ExpenseType"
                            [value]="value"
                          />
                        </ng-template>
                      </ngx-datatable-column>
                      <ngx-datatable-column  name="ExpenseDescription" [flexGrow]="1">
                        <ng-template  let-column="column" ngx-datatable-header-template>
                            <span >Expense Description</span>
                        </ng-template>
                        <ng-template  let-row="row" let-value="value" let-rowIndex="rowIndex" ngx-datatable-cell-template>
                            <input
                            required
                            style="width: 100%;height: 38px;"       
                            type="text"
                            [(ngModel)]="row.ExpenseDescription"
                            [value]="value"
                          />
                        </ng-template>
                      </ngx-datatable-column>
                      <ngx-datatable-column name="" [flexGrow]="0.4">
                        <ng-template let-row="row" let-value="value" let-rowIndex="rowIndex" ngx-datatable-cell-template> 
                            <i class="material-icons" style="color: red;" (click)="deleteExpenseRow(rowIndex)">delete</i>
                        </ng-template>
                      </ngx-datatable-column>
                      <ngx-datatable-column name="" [flexGrow]="0.6">
                        <ng-template   let-column="column" ngx-datatable-header-template>
                          <i  class="material-icons" style="color:green;margin-left:-15px" (click)="addExpenseRow() ">add_circle</i>
                        </ng-template>
                        <ng-template let-row="row" let-value="value" let-rowIndex="rowIndex" ngx-datatable-cell-template> 
                            <i class="material-icons" style="color:green;margin-left:-15px" (click)="addExpenseRow() ">add_circle</i>
                        </ng-template>
                      </ngx-datatable-column>
                    </ngx-datatable> 
                    <i class="material-icons" style="margin-left:-20px !important;color:green;font-size: xxx-large" (click)="saveExpenseTypes()">save</i>          
                </div>
            </div>
                    </div>
            </div>
        </div>
    </div>
    <div class="row" style="margin-top: 2%;">
        <div class="col-12">        
            <div class="card resourceestimates">
              <span class="headingDesign">Service </span>
              <div class="card-body">
                <div class="row" >
                  <div class="col-12 mb-4 data-table-rows" >
                    <ngx-datatable [rows]="serviceTypesList" [rowHeight]="50" [columns]="serviceTypeColumns" [columnMode]="ColumnMode.flex" [limit]="itemsPerPage" [headerHeight]="30"
                      [footerHeight]="100" #table [sorts]="[{ prop: 'title', dir: 'asc' }]" (select)="onSelect($event)"
                      [selected]="selected" [selectionType]="SelectionType.checkbox">
                      <ngx-datatable-column  name="ServiceType" [flexGrow]="1">
                        <ng-template  let-column="column" ngx-datatable-header-template>
                            <span >Service Type</span>
                        </ng-template>
                        <ng-template  let-row="row" let-value="value" let-rowIndex="rowIndex" ngx-datatable-cell-template>
                            <input
                            required
                            style="width: 100%;height: 38px;"
                            autofocus
                            (blur)="updateServiceType($event, 'ServiceType', rowIndex)"
                            type="text"
                            [(ngModel)]="row.ServiceType"
                            [value]="value"
                          />
                        </ng-template>
                      </ngx-datatable-column>
                      <ngx-datatable-column  name="ServiceDescription" [flexGrow]="1">
                        <ng-template  let-column="column" ngx-datatable-header-template>
                            <span >Service Description</span>
                        </ng-template>
                        <ng-template  let-row="row" let-value="value" let-rowIndex="rowIndex" ngx-datatable-cell-template>
                            <input
                            required
                            style="width: 100%;height: 38px;"
                            autofocus
                            (blur)="updateServiceType($event, 'ServiceDescription', rowIndex)"
                            type="text"
                            [(ngModel)]="row.ServiceDescription"
                            [value]="value"
                          />
                        </ng-template>
                      </ngx-datatable-column>
                      <ngx-datatable-column name="" [flexGrow]="0.4">
                        <ng-template let-row="row" let-value="value" let-rowIndex="rowIndex" ngx-datatable-cell-template> 
                            <i class="material-icons" style="color: red;" (click)="deleteServiceRow(rowIndex)">delete</i>
                        </ng-template>
                      </ngx-datatable-column>
                      <ngx-datatable-column name="" [flexGrow]="0.6">
                        <ng-template   let-column="column" ngx-datatable-header-template>
                          <i  class="material-icons" style="color:green;margin-left:-15px" (click)="addServiceRow() ">add_circle</i>
                        </ng-template>
                        <ng-template let-row="row" let-value="value" let-rowIndex="rowIndex" ngx-datatable-cell-template> 
                            <i class="material-icons" style="color:green;margin-left:-15px" (click)="addServiceRow() ">add_circle</i>
                        </ng-template>
                      </ngx-datatable-column>
                    </ngx-datatable> 
                    <i class="material-icons" style="margin-left:-20px !important;color:green;font-size: xxx-large" (click)="saveServiceTypes()">save</i>          
                </div>
            </div>
                    </div>
            </div>
        </div>
    </div>